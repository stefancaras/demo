<!DOCTYPE html>
<html>
  <head>
    <title>Shooting stars</title>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.5.0/lib/p5.js"></script>
    <script>
      function setup() {
        createCanvas(400, 400);
      }
      
      // x & y position & diameter
      let xPos = 400;
      let yPos = 50;
      let d = 1;

      function draw() {
        noStroke();
        background(33, 26, 84);

        //Moon
        fill(255, 255, 255);
        ellipse(100, 100, 100, 100);
        fill(33, 26, 84);
        ellipse(115, 90, 90, 90);

        //shooting star
        fill(255, 255, 255);
        ellipse(xPos, yPos, d, d);
        xPos -= 8;
        yPos += 4;
        d += 0.1;
        if (xPos < -100) {
          xPos = random(300, 400);
          yPos = random(-50, 150);
          d = 1;
        }

        //stars
        let positions = [
          { x: 10, y: 180, d: random(1, 3) },
          { x: 20, y: 120, d: random(2, 4) },
          { x: 40, y: 30, d: random(2, 4) },
          { x: 80, y: 200, d: random(2, 4) },
          { x: 130, y: 60, d: random(1, 3) },
          { x: 150, y: 180, d: random(1, 3) },
          { x: 180, y: 220, d: random(1, 3) },
          { x: 200, y: 120, d: random(2, 4) },
          { x: 300, y: 30, d: random(2, 4) },
          { x: 350, y: 80, d: random(1, 3) },
          { x: 380, y: 230, d: random(1, 3) },
          //big dipper
          { x: 165, y: 35, d: random(4, 6) },
          { x: 223, y: 51, d: random(4, 6) },
          { x: 247, y: 83, d: random(4, 6) },
          { x: 271, y: 158, d: random(4, 6) },
          { x: 278, y: 118, d: random(3, 5) },
          { x: 334, y: 189, d: random(4, 6) },
          { x: 364, y: 151, d: random(4, 6) },
        ];
        for (let i = 0; i < positions.length; i++) {
          let position = positions[i];
          fill(255, 255, 255);
          ellipse(position.x, position.y, position.d, position.d);
        }

        //haze
        for (let y = 300; y < 400; y += 3) {
          fill(200, 200, 200, 1);
          ellipse(200, y, 500, 200);
        }

        //house
        let x = 190;
        let y = 280;
        fill(28, 28, 28);
        triangle(x - 20, y, x + 190, y, x + 85, y - 60); //roof
        rect(x, y, 170, 80); //house
        rect(x + 20, y - 60, 30, 40); //chimney
        rect(0, 360, 400, 40); //ground
        fill(243, 252, 124);
        rect(x + 20, y + 10, 30, 30); //window
        rect(x + 120, y + 10, 30, 30); //window
        fill(40, 40, 40);
        rect(x + 70, y + 30, 30, 50); //door

        //tree
        x = 80;
        y = 330;
        fill(28, 28, 28);
        rect(x, y, 20, 30);
        triangle(x - 50, y, x + 70, y, x + 10, y - 50);
        triangle(x - 40, y - 30, x + 60, y - 30, x + 10, y - 70);
        triangle(x - 30, y - 55, x + 50, y - 55, x + 10, y - 90);
        triangle(x - 20, y - 80, x + 40, y - 80, x + 10, y - 110);
      }
    </script>
  </body>
</html>
